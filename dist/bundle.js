(()=>{"use strict";const e=class{constructor(e,t){this.input=e,this.archiv=t}execute(){return"method is not implemended"}render(e,t,r){void 0!==e&&(this.input.value=e),void 0!==t&&(this.archiv.value=t),void 0!==r&&(this.input.placeholder=r)}addNumber(e){this.input.value+=e}},t=class extends e{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return this.num1+this.num2}},r=class extends e{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return this.num1-this.num2}},u=class extends e{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return this.num1*this.num2}},s=class extends e{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return 0===this.num2?"division by zero":this.num1/this.num2}},n=class extends e{constructor(e,t){super(),this.num=e,this.pow=t}execute(){return 2!==this.pow&&3!==this.pow||(document.querySelector(".archiv").value=this.num+"^"+this.pow),this.num**this.pow}},a=class extends e{constructor(e,t){super(),this.num=e,this.pow=t}execute(){return 2!==this.pow&&3!==this.pow||(document.querySelector(".archiv").value=this.pow+"√"+this.num),this.num**(1/this.pow)}},c=class extends e{constructor(e,t){super(),this.leftNumber=Number(e),this.rightNumber=Number(t)}execute(){return document.querySelector(".archiv").value=this.leftNumber+this.rightNumber,0===this.rightNumber?"division by zero":Number(this.leftNumber/this.rightNumber)}},i=class extends e{constructor(e,t){super(),this.leftNumber=e,this.rightNumber=Number(t)}execute(){return document.querySelector(".archiv").value=this.rightNumber+"%",this.rightNumber?this.rightNumber/this.leftNumber:""}},o=class extends e{constructor(e){super(),this.actualNumber=Number(e)}execute(){return document.querySelector(".archiv").value="ln("+this.actualNumber+")",""===this.actualNumber||"ln by zero"===this.actualNumber?"":"0"===this.actualNumber?"ln by zero":Math.log(this.actualNumber)}},l=class extends e{constructor(e){super(),this.actualNumber=Number(e)}execute(){return document.querySelector(".archiv").value="log("+this.actualNumber+")",""===this.actualNumber||"ln by zero"===this.actualNumber?"":"0"===this.actualNumber?"ln by zero":Math.log10(this.actualNumber)}},m=class extends e{constructor(e){super(),this.power=Number(e)}execute(){return this.power?(document.querySelector(".archiv").value="exp("+this.power+")",2.718281828459045**this.power):""}},h=class extends e{constructor(){super()}execute(){return 2.718281828459045}},b=function(e){switch(e){case"+":return t;case"-":return r;case"*":return u;case"/":return s;case"^":return n;case"√":return a;case"1/x":return c;case"%":return i;case"ln":return o;case"log":return l;case"exp":return m;case"e":return h;default:return"operation in not found"}},d=document.querySelector(".result"),v=document.querySelector(".archiv"),N=new e(d,v),p=new class{constructor(e){this.memory=e}read(){return this.memory}clear(){this.memory=""}writeAdd(e){this.memory=Number(this.memory)+Number(e)}writeSub(e){this.memory-=e}}("");document.querySelector(".buttons").addEventListener("click",(e=>{if("division by zero"===d.value)for(let e of document.querySelectorAll(".btn"))"clearButton"!==e.id&&e.setAttribute("disabled",!0)})),document.querySelectorAll(".btn").forEach((e=>e.addEventListener("click",(e=>{switch(e.currentTarget.id){case"expButton":N.render((new(b(e.currentTarget.value))).execute());break;case"oneDivByNumberButton":N.render(new(b(e.currentTarget.value))(1,d.value).execute());break;case"squareRootButton":case"squareButton":N.render(new(b(e.currentTarget.value))(d.value,2).execute());break;case"cubeRootButton":case"cubeButton":N.render(new(b(e.currentTarget.value))(d.value,3).execute());break;case"percentButton":N.render(new(b(e.currentTarget.value))(100,d.value).execute());break;case"lnButton":case"logButton":case"expByPowerButton":N.render(new(b(e.currentTarget.value))(d.value).execute());break;case"number0":case"number1":case"number2":case"number3":case"number4":case"number5":case"number6":case"number7":case"number8":case"number9":N.addNumber(e.target.value);break;case"divButton":case"mulButton":case"subButton":case"addButton":if(v.value){let t=String(v.value).match(/[\d\.\,]+/g);if(t.length>1)N.render("",d.value+"+");else{let r=Number(t[0]),u=Number(d.value),s=v.value.slice(-1);N.render("",new(b(s))(r,u).execute()+e.currentTarget.value)}}else{let t=d.value;N.render("",t+e.currentTarget.value,"")}break;case"numRootButton":if(!d.value)return;let t=d.value;N.render("",t+"√","");break;case"numByPowerButton":if(!d.value)return;let r=d.value;N.render("",r+"^","");break;case"clearButton":N.render("","","0");for(let e of document.querySelectorAll(".btn"))e.removeAttribute("disabled");break;case"backspaceButton":let u=d.value.slice(0,-1);""===u?N.render(0):N.render(u);break;case"equalButton":if(!v.value)return;if(1!==String(v.value).match(/[\d\.\,]+/g).length)return;{let e=v.value.slice(-1),t=Number(v.value.slice(0,-1)),r=Number(d.value),u=new(b(e))(t,r).execute();("^"!==e||2!==r&&3!==r)&&(v.value+=r),N.render(u)}break;case"memoryClearButton":p.clear();break;case"memoryAddButton":p.writeAdd(d.value);break;case"memoryDivButton":p.writeSub(d.value);break;case"memoryReadButton":N.render(p.read())}}))))})();