(()=>{"use strict";let e=new class{constructor(e){this.memory=e}read(){return this.memory}clear(){this.memory=""}writeAdd(e){this.memory=Number(this.memory)+Number(e)}writeSub(e){this.memory-=e}}("");const t=document.querySelector(".result"),u=class{execute(){return"method is not implemended"}},r=class extends u{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return this.num1+this.num2}},c=class extends u{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return this.num1-this.num2}},n=class extends u{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return this.num1*this.num2}},l=class extends u{constructor(e,t){super(),this.num1=e,this.num2=t}execute(){return 0===this.num2?"division by zero":this.num1/this.num2}},s=class extends u{constructor(e,t){super(),this.num=e,this.pow=t}execute(){return 2!==this.pow&&3!==this.pow||(document.querySelector(".archiv").value=this.num+"^"+this.pow),this.num**this.pow}},o=class extends u{constructor(e,t){super(),this.num=e,this.pow=t}execute(){return 2!==this.pow&&3!==this.pow||(document.querySelector(".archiv").value=this.pow+"√"+this.num),this.num**(1/this.pow)}},a=class extends u{constructor(e,t){super(),this.leftNumber=Number(e),this.rightNumber=Number(t)}execute(){return document.querySelector(".archiv").value=this.leftNumber+this.rightNumber,0===this.rightNumber?"division by zero":Number(this.leftNumber/this.rightNumber)}},i=class extends u{constructor(e,t){super(),this.leftNumber=e,this.rightNumber=Number(t)}execute(){return document.querySelector(".archiv").value=this.rightNumber+"%",this.rightNumber?this.rightNumber/this.leftNumber:""}},m=class extends u{constructor(e){super(),this.actualNumber=Number(e)}execute(){return document.querySelector(".archiv").value="ln("+this.actualNumber+")",""===this.actualNumber||"ln by zero"===this.actualNumber?"":"0"===this.actualNumber?"ln by zero":Math.log(this.actualNumber)}},d=class extends u{constructor(e){super(),this.actualNumber=Number(e)}execute(){return document.querySelector(".archiv").value="log("+this.actualNumber+")",""===this.actualNumber||"ln by zero"===this.actualNumber?"":"0"===this.actualNumber?"ln by zero":Math.log10(this.actualNumber)}},h=class extends u{constructor(e){super(),this.power=Number(e)}execute(){return this.power?(document.querySelector(".archiv").value="exp("+this.power+")",2.718281828459045**this.power):""}},v=class extends u{constructor(){super()}execute(){return 2.718281828459045}},b=function(e){switch(e){case"+":return r;case"-":return c;case"*":return n;case"/":return l;case"^":return s;case"√":return o;case"1/x":return a;case"%":return i;case"ln":return m;case"log":return d;case"exp":return h;case"e":return v;default:return"operation in not found"}},y=document.querySelector(".result"),x=document.querySelector(".archiv");document.querySelectorAll(".btn-numb").forEach((e=>e.addEventListener("click",(e=>{let t=e.target.value;y.value+=t})))),document.querySelectorAll(".memory").forEach((u=>u.addEventListener("click",(()=>function(u){switch(u.id){case"memoryClearButton":e.clear();break;case"memoryAddButton":e.writeAdd(t.value);break;case"memoryDivButton":e.writeSub(t.value);break;case"memoryReadButton":t.value=e.read()}}(u))))),document.querySelectorAll(".simpleOperation").forEach((e=>e.addEventListener("click",(()=>{if(x.value){let t=String(x.value).match(/[\d\.\,]+/g);if(t.length>1)x.value=y.value+"+",y.value="";else{let u=Number(t[0]),r=Number(y.value),c=x.value.slice(-1);x.value=new(b(c))(u,r).execute()+e.value,y.value=""}}else{let t=y.value;x.value=t+e.value,y.value="",y.placeholder=""}})))),document.querySelector(".buttons").addEventListener("click",(()=>{if("division by zero"===y.value)for(let e of document.querySelectorAll(".btn"))"clearButton"!==e.id&&e.setAttribute("disabled",!0)})),document.querySelector("#numRootButton").addEventListener("click",(()=>{if(!y.value)return;let e=y.value;x.value=e+"√",y.placeholder="",y.value=""})),document.querySelector("#numByPowerButton").addEventListener("click",(()=>{if(!y.value)return;let e=y.value;x.value=e+"^",y.value="",y.placeholder=""})),document.querySelector("#clearButton").addEventListener("click",(()=>{y.value="",x.value="",y.placeholder="0";for(let e of document.querySelectorAll(".btn"))e.removeAttribute("disabled")})),document.querySelector("#backspaceButton").addEventListener("click",(()=>{let e=y.value.slice(0,-1);y.value=""===e?0:e})),document.querySelector("#equalButton").addEventListener("click",(()=>{if(x.value&&1===String(x.value).match(/[\d\.\,]+/g).length){let e=x.value.slice(-1),t=Number(x.value.slice(0,-1)),u=Number(y.value),r=new(b(e))(t,u).execute();("^"!==e||2!==u&&3!==u)&&(x.value+=u),y.value=r}})),document.querySelector("#expButton").addEventListener("click",(()=>{y.value=(new(b("e"))).execute()})),document.querySelector("#oneDivByNumberButton").addEventListener("click",(()=>{y.value=new(b("1/x"))(1,y.value).execute()})),document.querySelector("#squareRootButton").addEventListener("click",(()=>{y.value=new(b("√"))(y.value,2).execute()})),document.querySelector("#cubeRootButton").addEventListener("click",(()=>{y.value=new(b("√"))(y.value,3).execute()})),document.querySelector("#squareButton").addEventListener("click",(()=>{y.value=new(b("^"))(y.value,2).execute()})),document.querySelector("#cubeButton").addEventListener("click",(()=>{y.value=new(b("^"))(y.value,3).execute()})),document.querySelector("#percentButton").addEventListener("click",(()=>{y.value=new(b("%"))(100,y.value).execute()})),document.querySelector("#lnButton").addEventListener("click",(()=>{y.value=new(b("ln"))(y.value).execute()})),document.querySelector("#logButton").addEventListener("click",(()=>{y.value=new(b("log"))(y.value).execute()})),document.querySelector("#expByPowerButton").addEventListener("click",(()=>{y.value=new(b("exp"))(y.value).execute()}))})();